{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { API_URL } from '../constants/constUrls';\nimport { useFormContext } from '../context/FormContext';\nconst useCities = () => {\n  _s();\n  const {\n    listCity,\n    addCity\n  } = useFormContext();\n  const fetchCities = useCallback(async () => {\n    try {\n      const response = await axios.get(API_URL.CITIES);\n      const cities = response.data;\n      addCity(cities);\n    } catch (error) {\n      console.error('שגיאה בטעינת הערים:', error);\n    }\n  }, [addCity]);\n  useEffect(() => {\n    if (listCity.length === 0) {\n      fetchCities();\n    }\n  }, [listCity, fetchCities]);\n  return listCity;\n};\n_s(useCities, \"TLzB5t2VR3pHaHDPRUOubp8W4l0=\", false, function () {\n  return [useFormContext];\n});\nexport default useCities;","map":{"version":3,"names":["useEffect","useCallback","axios","API_URL","useFormContext","useCities","_s","listCity","addCity","fetchCities","response","get","CITIES","cities","data","error","console","length"],"sources":["C:/Users/mshuk/OneDrive/שולחן העבודה/ProjectStudents/meitav/src/hooks/useCities.ts"],"sourcesContent":["import { useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport { API_URL } from '../constants/constUrls';\r\nimport { useFormContext } from '../context/FormContext';\r\nimport { ICity } from '../types/city';\r\n\r\nconst useCities = () => {\r\n    const { listCity, addCity } = useFormContext();\r\n\r\n    const fetchCities = useCallback(async () => {\r\n        try {\r\n            const response = await axios.get(API_URL.CITIES);\r\n            const cities: ICity[] = response.data;\r\n            addCity(cities);\r\n        } catch (error) {\r\n            console.error('שגיאה בטעינת הערים:', error);\r\n        }\r\n    }, [addCity]);\r\n\r\n    useEffect(() => {\r\n        if (listCity.length === 0) {\r\n            fetchCities();\r\n        }\r\n    }, [listCity, fetchCities]);\r\n\r\n    return listCity;\r\n};\r\n\r\nexport default useCities;"],"mappings":";AAAA,SAASA,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAC9C,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,wBAAwB;AAChD,SAASC,cAAc,QAAQ,wBAAwB;AAGvD,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAM;IAAEC,QAAQ;IAAEC;EAAQ,CAAC,GAAGJ,cAAc,CAAC,CAAC;EAE9C,MAAMK,WAAW,GAAGR,WAAW,CAAC,YAAY;IACxC,IAAI;MACA,MAAMS,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAACR,OAAO,CAACS,MAAM,CAAC;MAChD,MAAMC,MAAe,GAAGH,QAAQ,CAACI,IAAI;MACrCN,OAAO,CAACK,MAAM,CAAC;IACnB,CAAC,CAAC,OAAOE,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC/C;EACJ,CAAC,EAAE,CAACP,OAAO,CAAC,CAAC;EAEbR,SAAS,CAAC,MAAM;IACZ,IAAIO,QAAQ,CAACU,MAAM,KAAK,CAAC,EAAE;MACvBR,WAAW,CAAC,CAAC;IACjB;EACJ,CAAC,EAAE,CAACF,QAAQ,EAAEE,WAAW,CAAC,CAAC;EAE3B,OAAOF,QAAQ;AACnB,CAAC;AAACD,EAAA,CApBID,SAAS;EAAA,QACmBD,cAAc;AAAA;AAqBhD,eAAeC,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}